shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
data<- read.csv("data/origin_subset_10000.csv")
flow <- data %>%
select('DAY_TYPE','TIME_PER_HOUR','BusStopCode_x','BusStopCode_y','TOTAL_TRIPS') %>%
unite(from_to, BusStopCode_x,BusStopCode_y, sep = "_", remove=FALSE) %>%
group_by(from_to) %>%
summarise(Frequency = sum(TOTAL_TRIPS))%>%
separate(from_to, c("from", "to"))
data
View(data)
flow <- data %>%
select('DAY_TYPE','TIME_PER_HOUR','BusStopCode_x','BusStopCode_y','TOTAL_TRIPS')
flow <- data %>%
select('DAY_TYPE','TIME_PER_HOUR','BusStopCode_x','BusStopCode_y','TOTAL_TRIPS')
flow
runApp()
runApp('C:/Users/jia yi/Desktop/MITB/Sem1/ISSS616 Applied Statistical Analysis with R/Project/Olympics project/runAppPresent/newdir')
runApp()
}## Import data
data<- read.csv("data/origin_subset_10000.csv")
## filter the data for relevant columns
flow <- data %>%
select('DAY_TYPE','TIME_PER_HOUR','BusStopCode_x','BusStopCode_y','TOTAL_TRIPS') %>%
unite(from_to, BusStopCode_x,BusStopCode_y, sep = "_", remove=FALSE) %>%
group_by(from_to) %>%
summarise(Frequency = sum(TOTAL_TRIPS))%>%
separate(from_to, c("from", "to"))
## Import data
data<- read.csv("data/origin_subset_10000.csv")
## filter the data for relevant columns
flow <- data %>%
select('DAY_TYPE','TIME_PER_HOUR','BusStopCode_x','BusStopCode_y','TOTAL_TRIPS') %>%
unite(from_to, BusStopCode_x,BusStopCode_y, sep = "_", remove=FALSE) %>%
group_by(from_to) %>%
summarise(Frequency = sum(TOTAL_TRIPS))%>%
separate(from_to, c("from", "to"))
flow
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
packages = c('igraph','ggraph','tidygraph','visNetwork', 'lubridate', 'tidyverse','ggmap','visNetwork',
'lubridate', 'tidyverse', 'ggplot2', 'leaflet', 'ggiraph', 'sf', 'tmap',
'reshape2','shiny','shinythemes','shinydashboard','MASS','jpeg','ERSA','png','leaflet',
'flows','sp','st','sf','maptools','networkD3','gganimate','RColorBrewer','dplyr'
)
for(p in packages){library
if(!require(p, character.only = T)){
install.packages(p)
}
library(p, character.only = T)
}
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp('D:/ISSS 608 - Visual Analytics/Project/LTA_Bus_Analysis_New/ProjRShiny_jiayi')
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
busstop_information <- read.csv("data/busstops_with_planning_area.csv")
head(busstop_information)
busstop_information <- read.csv("data/busstops_with_planning_area.csv")
head(busstop_information)
busstop_information <- read.csv("data/busstops_with_planning_area.csv")
head(busstop_information)
busstop_information <- read.csv("data/busstops_with_planning_area.csv")
head(busstop_information)
busstop_information <- read.csv("data/busstops_with_planning_area.csv")
head(busstop_information)
busstop_pa <- read.csv("data/busstops_with_planning_area.csv")
head(busstop_information)
busstop_sz <- read.csv("data/busstop_lonlat_subzone.csv")
head(busstop_sz)
busstop_sz <- read.csv("data/busstop_lonlat_subzone.csv")
head(busstop_sz)
packages <- c('tidyverse', 'leaflet', 'sf', 'RColorBrewer', 'leaflet.extras', 'geosphere')
for (p in packages){
if (!require(p,character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
busstop_volume <- read.csv("data/passenger volume by busstop.csv")
colnames(busstop_volume)[5] = "BusStopCode"
head(busstop_volume)
busstop_information <- read.csv("data/busstop_lonlat_subzone.csv")[3:8]
packages <- c('tidyverse', 'leaflet', 'sf', 'RColorBrewer', 'leaflet.extras', 'geosphere')
for (p in packages){
if (!require(p,character.only = T)){
install.packages(p)
}
library(p,character.only = T)
}
busstop_volume <- read.csv("data/passenger volume by busstop.csv")
colnames(busstop_volume)[5] = "BusStopCode"
head(busstop_volume)
busstop_information <- read.csv("data/busstop_lonlat_subzone.csv")[3:8]
busstop_information <- read.csv("data/busstop_lonlat_subzone.csv")
busstop_information$planning_area = str_to_title(busstop_information$planning_area)
busstop_information <- filter(busstop_information, planning_area != "Invalid")
busstop_information$planning_area <- as.character(busstop_information$planning_area)
busstop_information$planning_area[busstop_information$planning_area %in% c('Central Water Catchment', 'Mandai', 'Marina South', 'Museum', 'Newton', 'Orchard', 'Outram', 'Seletar', 'Rochor', 'Singapore River', 'Tanglin', 'Southern Islands', 'River Valley', 'Paya Lebar', 'Straits View', 'Tengah')] <- "Others"
head(busstop_information)
busstop_volume_lat_long <- dplyr::inner_join(busstop_volume, busstop_information, by ='BusStopCode')
str(busstop_volume_lat_long)
rm(busstop_volume)
location <- busstop_volume_lat_long %>%
dplyr::filter(DAY_TYPE == c('WEEKDAY'))%>%
dplyr::filter(TIME_PER_HOUR == 10)%>%
dplyr::group_by(BusStopCode)%>%
dplyr::arrange(desc(BusStopCode))%>%
rename(c(lat = Latitude, lon = Longitude))
#location$tap_in_radius <- sqrt(location$TOTAL_TAP_IN_VOLUME)/6
#location$tap_out_radius <- sqrt(location$TOTAL_TAP_OUT_VOLUME)/6
location$tap_in_out_radius <- (location$TOTAL_TAP_IN_VOLUME + location$TOTAL_TAP_OUT_VOLUME)**(1/2)/6
#location <- head(location)
head(location)
planning_area_list <-sort(unique(location$planning_area))
for (i in planning_area_list)
{
df <- filter(location, planning_area == i)
assign(paste(i), df)
}
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
#addTiles(group = "OSM") %>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
#addProviderTiles("Esri", group = "Esri") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Bedok`, group = 'Bedok', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Bishan`, group = 'Bishan', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Boon Lay`, group = 'Boon Lay', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Bukit Batok`, group = 'Bukit Batok', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Bukit Merah`, group = 'Bukit Merah', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Bukit Panjang`, group = 'Bukit Panjang', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Bukit Timah`, group = 'Bukit Timah', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Changi`, group = 'Changi', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Choa Chu Kang`, group = 'Choa Chu Kang', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Clementi`, group = 'Clementi', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Downtown Core`, group = 'Downtown Core', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Geylang`, group = 'Geylang', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Hougang`, group = 'Hougang', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Jurong East`, group = 'Jurong East', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Jurong West`, group = 'Jurong West', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Kallang`, group = 'Kallang', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Lim Chu Kang`, group = 'Lim Chu Kang', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Marine Parade`, group = 'Marine Parade', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Novena`, group = 'Novena', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Pasir Ris`, group = 'Pasir Ris', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Pioneer`, group = 'Pioneer', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Punggol`, group = 'Punggol', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Queenstown`, group = 'Queenstown', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Sembawang`, group = 'Sembawang', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Sengkang`, group = 'Sengkang', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Serangoon`, group = 'Serangoon', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Sungei Kadut`, group = 'Sungei Kadut', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Tampines`, group = 'Tampines', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Toa Payoh`, group = 'Toa Payoh', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Tuas`, group = 'Tuas', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Western Water Catchment`, group = 'Western Water Catchment', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Woodlands`, group = 'Woodlands', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Yishun`, group = 'Yishun', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
addCircleMarkers(data=`Others`, group = 'Others', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<b>", Description, "</b>", "<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
setView(lat = 1.3004641, lng = 104.4496028, zoom = 11)%>%
setMaxBounds(lng1 = 103.801959 + .25,
lat1 = 1.32270 + .25,
lng2 = 103.801959 - .25,
lat2 = 1.32270 - .25)%>%
#addSearchOSM() %>%
#addReverseSearchOSM()%>%
addLayersControl(baseGroups =unique(planning_area_list))
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
#addTiles(group = "OSM") %>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
#addProviderTiles("Esri", group = "Esri") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
#addTiles(group = "OSM") %>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
#addProviderTiles("Esri", group = "Esri") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
#addTiles(group = "OSM") %>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
#addProviderTiles("Esri", group = "Esri") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME)
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
#addTiles(group = "OSM") %>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
#addProviderTiles("Esri", group = "Esri") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
#addTiles(group = "OSM") %>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
#addProviderTiles("Esri", group = "Esri") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME)
setView(lat = 1.3004641, lng = 104.4496028, zoom = 11)%>%
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
#addTiles(group = "OSM") %>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
#addProviderTiles("Esri", group = "Esri") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, label = ~Description, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
#addTiles(group = "OSM") %>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
#addProviderTiles("Esri", group = "Esri") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))
setView(lat = 1.3004641, lng = 104.4496028, zoom = 11)%>%
setMaxBounds(lng1 = 103.801959 + .25,
lat1 = 1.32270 + .25,
lng2 = 103.801959 - .25,
lat2 = 1.32270 - .25)%>%
#addSearchOSM() %>%
#addReverseSearchOSM()%>%
addLayersControl(baseGroups =unique(planning_area_list))
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
#addTiles(group = "OSM") %>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
#addProviderTiles("Esri", group = "Esri") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))
setView(lat = 1.3004641, lng = 104.4496028, zoom = 11)%>%
setMaxBounds(lng1 = 103.801959 + .25,
lat1 = 1.32270 + .25,
lng2 = 103.801959 - .25,
lat2 = 1.32270 - .25)%>%
addLayersControl(baseGroups =unique(planning_area_list))
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
#addTiles(group = "OSM") %>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
#addProviderTiles("Esri", group = "Esri") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0("<br/>", 'Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
setView(lat = 1.3004641, lng = 104.4496028, zoom = 11)%>%
setMaxBounds(lng1 = 103.801959 + .25,
lat1 = 1.32270 + .25,
lng2 = 103.801959 - .25,
lat2 = 1.32270 - .25)%>%
addLayersControl(baseGroups =unique(planning_area_list))
map
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
#addTiles(group = "OSM") %>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
#addProviderTiles("Esri", group = "Esri") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0('Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
setView(lat = 1.3004641, lng = 104.4496028, zoom = 11)%>%
setMaxBounds(lng1 = 103.801959 + .25,
lat1 = 1.32270 + .25,
lng2 = 103.801959 - .25,
lat2 = 1.32270 - .25)%>%
addLayersControl(baseGroups =unique(planning_area_list))
map
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
data
busstop_volume
#pal <- colorNumeric(palette = "Reds", domain = c(0:11), reverse = FALSE)
pal <- colorFactor(palette = 'Set3', domain = planning_area_list)
map <-
leaflet(width = 800, height = 600)%>%
addProviderTiles("CartoDB", group = "CartoDB") %>%
addCircleMarkers(data=`Ang Mo Kio`, group = 'Ang Mo Kio', stroke = FALSE, fillOpacity = 0.75,
lng = ~lon, lat = ~lat, radius = ~tap_in_out_radius, color =  ~pal(planning_area),
popup = ~paste0('Tap in Volume: ', TOTAL_TAP_IN_VOLUME, "<br/>", 'Tap out volume: ', TOTAL_TAP_OUT_VOLUME))%>%
setView(lat = 1.3004641, lng = 104.4496028, zoom = 11)%>%
setMaxBounds(lng1 = 103.801959 + .25,
lat1 = 1.32270 + .25,
lng2 = 103.801959 - .25,
lat2 = 1.32270 - .25)%>%
addLayersControl(baseGroups =unique(planning_area_list))
map
runApp()
runApp()
runApp()
View(location_my)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp('C:/Users/User/Desktop/ISSS 608 - Visual Analytics/Workshop/test')
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp('C:/Users/User/Desktop/ISSS 608 - Visual Analytics/Workshop/test')
runApp()
runApp()
runApp()
runApp()
location_my_map
location_my
runApp()
runApp()
planning_area_list_my
runApp()
planning_area_list_my
runApp()
runApp('C:/Users/User/Desktop/ISSS 608 - Visual Analytics/Test')
runApp()
runApp()
runApp()
location_my_map
location_my
location_my['BusStopCode']
location_my
location_my['BusStopCode', 'Description', 'RoadName', 'planning_area', 'TOTAL_TAP_IN', 'TOTAL_TAP_OUT_VOLUME', 'TIME_PER_HOUR'']%>%
rename(c(TapIns = TOTAL_TAP_IN, TapOuts = TOTAL_TAP_OUT_VOLUME, Time = TIME_PER_HOUR, PlanningArea = planning_area))
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
View(location_my)
str(location_my)
head(location_my)
runApp()
location_my %>% dplyr::filter(planning_area %in% input$planning_region_my)%>%
dplyr::filter(TIME_PER_HOUR == input$time_my)
location_my %>% dplyr::filter(planning_area %in% c('Ang Mo Kio'))%>%
dplyr::filter(TIME_PER_HOUR == 8)
location_my %>% dplyr::filter(planning_area %in% c('Ang Mo Kio'))%>%
dplyr::filter(TIME_PER_HOUR == '8')
location_my %>% dplyr::filter(planning_area %in% c('Ang Mo Kio'))%>%
dplyr::filter(TIME_PER_HOUR == '6')
location_my %>% dplyr::filter(planning_area %in% c('Ang Mo Kio'))%>%
dplyr::filter(TIME_PER_HOUR == '10')
runApp()
